<!-- Disable Warnings for WebStorm -->
<!--suppress HtmlUnknownTarget -->

<!-- Using Nunjucks: A rich and powerful templating language for JavaScript. -->

<!-- The macros allows you to define reusable chunks of content.
     It is similar to a function in a programming language. -->

<!-- Parameter: messages is of type array of objects.
     The object must be have the follow properties:
     - name: The name of user.
     - time: The time has passed since the message was written.
     - highlight: If the message must be highlight, the value must be 'font-weight-bold' (this a class of bootstrap 4).
     - isActive: Can be 'bg-success' if the user is active, or 'bg-warning' if the user is occupied, empty value if the user is offline.
     - text: The message the user want to communicate.
     - pathImage: Path to profile image of user. -->
{% macro showMessages(messages) %}
<!-- Nav Item - Messages -->
<li class="nav-item dropdown no-arrow mx-1">
    <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button"
       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fas fa-envelope fa-fw"></i>
        <!-- Counter - Messages -->
        <span class="badge badge-danger badge-counter">7</span>
    </a>
    <!-- Dropdown - Messages -->
    <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
         aria-labelledby="messagesDropdown">
        <h6 class="dropdown-header">
            Message Center
        </h6>

        {% for message in messages %}
        <a class="dropdown-item d-flex align-items-center" href="#">
            <div class="dropdown-list-image mr-3">
                <img class="rounded-circle" src="{{ message.pathImage }}"
                     alt="">
                <div class="status-indicator {{ message.isActive }}"></div>
            </div>

            <div class="{{ message.highlight }}">
                <div class="text-truncate">{{ message.text }}
                </div>
                <div class="small text-gray-500">{{ message.name }} Â· {{ message.time }}</div>
            </div>
        </a>
        {% endfor %}

        <a class="dropdown-item text-center small text-gray-500" href="#">Read More Messages</a>
    </div>
</li>
{% endmacro %}
